{#if !done}
    <Loading small/>
{:else}
    <img class={class} style={style} id={id} src={src} alt={alt} />
{/if}
<script>
export default {
    data: () => ({
        done: false,
        src: '',
        alt: '',
        class: '',
        style: '',
        id: ''
    }),
    oncreate() {
        const {src} = this.get();
        if(src != null && src != '') {
            const img = new Image();
            img.src = src;
            img.onload = e => {
                this.set({done: true});
                this.fire("load")
            };
        }
    },
    components: {
        Loading: "./Loading.html"
    }
}
</script>